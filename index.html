<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jitsi Meet</title>
    <script src="https://meet.jit.si/external_api.js"></script>
</head>
<body style="margin:0; padding:0; background:#000;">
    <div id="meet" style="width:100vw; height:100vh;"></div>

    <script>
        // Get room name from URL (example: ?room=badanix-433865)
        const urlParams = new URLSearchParams(window.location.search);
        const roomName = urlParams.get('room') || "default-room";

        const domain = "meet.jit.si";
        const options = {
            roomName: roomName,
            parentNode: document.getElementById("meet"),
            userInfo: {
                displayName: "Guest User" // Default name (optional)
            },
            interfaceConfigOverwrite: {
                TOOLBAR_BUTTONS: [
                    "microphone", 
                    "camera", 
                    "fullscreen", 
                    "tileview"
                ], // Remove unwanted buttons
                SHOW_JITSI_WATERMARK: false,
                SHOW_WATERMARK_FOR_GUESTS: false,
                MOBILE_APP_PROMO: false, // Prevents the mobile app prompt
            },
            configOverwrite: {
                prejoinPageEnabled: false,  // âœ… **Bypass the "Join Meeting" screen**
                disableThirdPartyRequests: true,
                disableInviteFunctions: true, // Disables "Add People"
                startWithAudioMuted: false, // Auto-start with audio
                startWithVideoMuted: false, // Auto-start with video
                enableWelcomePage: false,  // Removes welcome page
            }
        };

        const api = new JitsiMeetExternalAPI(domain, options);
    </script>
</body>
</html>
